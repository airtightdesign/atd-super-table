!function(e){var t={};function i(a){if(t[a])return t[a].exports;var n=t[a]={i:a,l:!1,exports:{}};return e[a].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=t,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:a})},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=0)}([function(e,t,i){i(1),e.exports=i(7)},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,i,a){return i&&e(t.prototype,i),a&&e(t,a),t}}();i(2),i(3),i(4);var n=l(i(5)),o=l(i(6));function l(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(t,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.containerEl=t,this.responsiveEl=this.containerEl.querySelectorAll(".responsive")[0],this.dataTable=this.containerEl.querySelectorAll("table")[0],this.columns=[],this.lockTable=null,this.lockTableRear=null,this.lockedColumns=[],this.lastScrollTime=Date.now(),this.settings=Object.assign({stackedBreakpoint:991,maxLocked:!0},i),window.setTimeout(function(){this.loadColumns(),this.isTableLockable()&&(this.lockedColumns=this.getAutoLocked("data-auto-lock"),this.lockedRear=this.getAutoLocked("data-auto-lock-rear")),this.layoutTable()}.bind(this),100),window.addEventListener("resize",this.layoutTable.bind(this))}return a(e,[{key:"loadColumns",value:function(){var e=this,t=[];this.dataTable.querySelectorAll("th").forEach(function(i,a){var o=new n.default(t.length,i),l=[];e.dataTable.querySelectorAll("tbody tr").forEach(function(e){l.push(e.querySelectorAll("td")[a])}),o.setRows(l),t.push(o)}),this.columns=t}},{key:"getColumnByID",value:function(e){var t=null;return this.columns.forEach(function(i){i.id===e&&(t=i)}),t}},{key:"isTableLockable",value:function(){return this.containerEl.hasAttribute("data-lockable")}},{key:"isTableHeightSet",value:function(){return this.containerEl.hasAttribute("data-height")}},{key:"updateTableScrollPosition",value:function(e){var t=Date.now();if(t-this.lastScrollTime<15)return console.log("discarded"),e.stopPropagation(),!1;console.log("processed"),e.target===this.responsiveEl&&(this.fixedHeader.style.transform="translate3D(0,"+e.target.scrollTop+"px, 0)"),e.target!==this.responsiveEl&&(this.responsiveEl.scrollTop=e.target.scrollTop),this.lockTable&&(this.lockTable.table.scrollTop=e.target.scrollTop),this.lockTableRear&&(this.lockTableRear.table.scrollTop=e.target.scrollTop),this.lastScrollTime=t}},{key:"createFixedHead",value:function(){this.fixedHeader&&(this.fixedHeader.remove(),this.fixedHeader=null),this.responsiveEl.removeEventListener("scroll",this.updateTableScrollPosition),this.fixedHeader=document.createElement("TABLE");var e=document.createElement("TR");this.fixedHeader.appendChild(document.createElement("THEAD")),this.fixedHeader.querySelector("thead").appendChild(e),this.fixedHeader.className=this.dataTable.className,this.fixedHeader.classList.add("fixed-header"),this.responsiveEl.appendChild(this.fixedHeader),this.dataTable.querySelectorAll("th").forEach(function(t){var i=document.createElement("TH");i.innerHTML=t.innerHTML,i.style.width=t.offsetWidth+"px",e.appendChild(i)}.bind(this)),this.responsiveEl.addEventListener("scroll",this.updateTableScrollPosition.bind(this))}},{key:"setTableMaxHeight",value:function(){var e=parseInt(this.containerEl.getAttribute("data-height"),10);isNaN&&isNaN(e)||(this.responsiveEl.style.maxHeight=e+"px",this.responsiveEl.classList.add("set-height"))}},{key:"layoutTable",value:function(){if(this.containerEl.classList.remove("stacked","compact"),this.lockTable&&(this.lockTable.destroy(),this.lockTable=null),this.lockTableRear&&(this.lockTableRear.destroy(),this.lockTableRear=null),this.isTableHeightSet()&&(this.createFixedHead(),this.setTableMaxHeight()),window.innerWidth<=this.settings.stackedBreakpoint)return this.containerEl.classList.add("stacked"),void this.setStackedHeadings();if(!(this.dataTable.offsetWidth<=this.containerEl.offsetWidth)&&(this.containerEl.classList.add("compact"),this.isTableLockable())){var e=[];this.lockedColumns.forEach(function(t){var i=this.getColumnByID(t);i&&e.push(i.getColumnCopy())}.bind(this)),this.lockTable=new o.default(this.containerEl,this.dataTable,!1,e),this.lockTable.table.addEventListener("scroll",this.updateTableScrollPosition.bind(this)),e=[],this.lockedRear.forEach(function(t){var i=this.getColumnByID(t);i&&e.push(i.getColumnCopy())}.bind(this)),this.lockTableRear=new o.default(this.containerEl,this.dataTable,!0,e),this.lockTableRear.table.addEventListener("scroll",this.updateTableScrollPosition.bind(this));var t=this.responsiveEl.offsetWidth-this.responsiveEl.clientWidth;console.log(t),this.lockTableRear.containerEl.style.transform="translate3D(-"+t+"px, 0px, 0px)"}}},{key:"setStackedHeadings",value:function(){var e=this.dataTable.querySelectorAll("th");this.dataTable.querySelectorAll("tbody tr").forEach(function(t){t.querySelectorAll("td").forEach(function(t,i){!e[i].innerText.length||e[i].innerText.match(/^\s$/)||e[i].innerText.match(/\xA0$/g)||t.setAttribute("data-heading",e[i].innerText)})})}},{key:"getAutoLocked",value:function(e){var t=[];return this.columns.forEach(function(i){i.head.hasAttribute(e)&&t.push(i.id)}),t}}]),e}();document.querySelectorAll("[data-super-table]").forEach(function(e){new s(e)}),t.default=s},function(e,t,i){"use strict";[Element.prototype,CharacterData.prototype,DocumentType.prototype].forEach(function(e){e.hasOwnProperty("remove")||Object.defineProperty(e,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){null!==this.parentNode&&this.parentNode.removeChild(this)}})})},function(e,t,i){"use strict";window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=function(e,t){t=t||window;for(var i=0;i<this.length;i++)e.call(t,this[i],i,this)})},function(e,t,i){"use strict";"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e,t){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(e),a=1;a<arguments.length;a++){var n=arguments[a];if(null!=n)for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])}return i},writable:!0,configurable:!0})},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,i,a){return i&&e(t.prototype,i),a&&e(t,a),t}}();var n=function(){function e(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=t,this.head=i,this.rows=a,this.width=this.head?this.head.offsetWidth:0,this.headHeight=this.head?this.head.offsetHeight:0,this.rowsHeights=[]}return a(e,[{key:"setHead",value:function(e){e&&(this.head=e)}},{key:"getHead",value:function(){return this.head||null}},{key:"setRows",value:function(e){e&&(this.rows=e,this.rows.forEach(function(e){this.rowsHeights.push(e.offsetHeight)}.bind(this)))}},{key:"getRows",value:function(){return this.rows.length?this.rows:null}},{key:"getColumnCopy",value:function(){var e=[];return this.rows.forEach(function(t){e.push(t.cloneNode(!0))}),{id:this.id,head:this.head.cloneNode(!0),rows:e,width:this.width,headHeight:this.headHeight,rowsHeights:this.rowsHeights}}}]),e}();t.default=n},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,i,a){return i&&e(t.prototype,i),a&&e(t,a),t}}();var n=function(){function e(t,i){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.superTableEl=t,this.dataTable=i,this.isRear=a,this.containerEl=document.createElement("div"),this.columnData=n,this.createLockTable()}return a(e,[{key:"destroy",value:function(){return this.containerEl.remove(),null}},{key:"containsColumn",value:function(e){if(this.columnData)for(var t=0,i=this.columnData.length;t<i;t++)if(this.columnData[t].head===e)return e;return!1}},{key:"createLockTable",value:function(){var e=this;if(this.destroy(),this.columnData.length){var t=document.createElement("thead");t.appendChild(document.createElement("tr"));var i=document.createElement("tbody");this.table=document.createElement("table"),this.table.appendChild(t),this.table.appendChild(i),this.table.className=this.dataTable.className,this.table.classList.add("lock-table"),this.table.classList.remove("max-locked"),this.isRear?(this.containerEl.classList.add("rear"),this.table.setAttribute("id","lock-table-rear")):this.table.setAttribute("id","lock-table"),this.containerEl.classList.add("lock-table-container");var a=document.createElement("div");a.classList.add("lock-table-inner"),a.appendChild(this.table),this.containerEl.appendChild(a),this.containerEl.setAttribute("aria-hidden",""),this.superTableEl.appendChild(this.containerEl);var n=0;if(this.columnData.length){this.columnData.forEach(function(e,t){this.table.querySelector("tbody").style.transform="translateY("+e.headHeight+"px)",e.head.style.width=e.width+"px",n+=e.width,this.table.querySelector("thead tr").appendChild(e.head)}.bind(this));for(var o=this.table.querySelector("tbody"),l=this.columnData[0].rows.length,s=function(t){var i=document.createElement("tr");e.columnData.forEach(function(e){e.rows[t].style.width=e.width+"px",e.rows[t].style.height=e.rowsHeights[t]+"px",i.appendChild(e.rows[t])}),o.appendChild(i)},r=0;r<l;r++)s(r)}var c=(this.table.offsetWidth-this.table.clientWidth)/2;this.table.style.width=this.table.offsetWidth+c+"px",this.containerEl.style.width=n+"px"}}},{key:"addColumn",value:function(e){this.containsColumn(e.head)||(this.columnData.push(e),this.createLockTable())}},{key:"removeColumn",value:function(e){var t=this.containsColumn(columnHead),i=this.columnData.indexOf(t);i>=0&&(this.columnData.splice(i,1),this.createLockTable())}}]),e}();t.default=n},function(e,t){}]);
//# sourceMappingURL=atd-super-table.min.js.map