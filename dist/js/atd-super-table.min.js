!function(e){var t={};function i(a){if(t[a])return t[a].exports;var l=t[a]={i:a,l:!1,exports:{}};return e[a].call(l.exports,l,l.exports,i),l.l=!0,l.exports}i.m=e,i.c=t,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:a})},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=0)}([function(e,t,i){i(1),e.exports=i(5)},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,i,a){return i&&e(t.prototype,i),a&&e(t,a),t}}();i(2),i(3),i(4);var l=function(){function e(t,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.containerEl=t,this.responsiveEl=this.containerEl.querySelectorAll(".responsive")[0],this.dataTable=this.containerEl.querySelectorAll("table")[0],this.lockTable=null,this.lockTableRear=null,this.autoLockedRear=[],this.manuallyLocked=[],this.allLocked=[],this.originalHeaders=[],this.settings=Object.assign({stackedBreakpoint:991,maxLocked:!0},i),this.isTableLockable()&&(this.autoLocked=this.getAutoLocked("data-auto-lock")),this.dataTable.querySelectorAll("th").forEach(function(e){this.originalHeaders.push(e.innerText)}.bind(this)),this.layoutTable(),window.addEventListener("resize",this.layoutTable.bind(this))}return a(e,[{key:"isTableLockable",value:function(){return this.containerEl.hasAttribute("data-lockable")}},{key:"isTableHeightSet",value:function(){return this.containerEl.hasAttribute("data-height")}},{key:"updateTableScrollPosition",value:function(e){e.target;this.fixedHeader.style.transform="translateY("+e.target.scrollTop+"px)"}},{key:"createFixedHead",value:function(){this.fixedHeader&&(this.fixedHeader.remove(),this.fixedHeader=null),this.responsiveEl.removeEventListener("scroll",this.updateTableScrollPosition),this.fixedHeader=document.createElement("TABLE");var e=document.createElement("TR");this.fixedHeader.appendChild(document.createElement("THEAD")),this.fixedHeader.querySelector("thead").appendChild(e),this.fixedHeader.className=this.dataTable.className,this.fixedHeader.classList.add("fixed-header"),this.responsiveEl.appendChild(this.fixedHeader),this.dataTable.querySelectorAll("th").forEach(function(t){var i=document.createElement("TH");i.innerHTML=t.innerHTML,i.style.width=t.offsetWidth+"px",e.appendChild(i)}.bind(this)),this.responsiveEl.addEventListener("scroll",this.updateTableScrollPosition.bind(this))}},{key:"setTableMaxHeight",value:function(){var e=parseInt(this.containerEl.getAttribute("data-height"),10);isNaN&&isNaN(e)||(this.responsiveEl.style.maxHeight=e+"px",this.responsiveEl.classList.add("set-height"))}},{key:"layoutTable",value:function(){var e=this;if(this.clearLockTables(),this.containerEl.classList.remove("compact","stacked"),this.isTableHeightSet()&&window.setTimeout(function(){e.createFixedHead(),e.setTableMaxHeight()},100),window.innerWidth<=this.settings.stackedBreakpoint)return this.containerEl.classList.add("stacked"),void this.setStackedHeadings();this.dataTable.offsetWidth<=this.containerEl.offsetWidth||(this.containerEl.classList.add("compact"),this.isTableLockable()&&(this.placeLocks(),this.allLocked=this.autoLocked.concat(this.manuallyLocked),this.allLocked.sort(function(e,t){return e.index<t.index?-1:1}),this.allLocked.length&&(this.lockTable=this.createLockTable(),this.calculateLockTableSize(this.lockTable,this.allLocked),this.toggleColumnVisibility(!0,this.allLocked,this.lockTable)),this.autoLockedRear=this.getAutoLocked("data-auto-lock-rear"),this.autoLockedRear.length&&(this.lockTableRear=this.createLockTable(!0),this.calculateLockTableSize(this.lockTableRear,this.autoLockedRear),this.toggleColumnVisibility(!0,this.autoLockedRear,this.lockTableRear)),this.calculateMaxLocked(),this.containerEl.querySelectorAll("[data-lock-column]").forEach(function(e){e.addEventListener("click",this.toggleLocked.bind(this))}.bind(this))))}},{key:"setStackedHeadings",value:function(){var e=this.dataTable.querySelectorAll("th");this.dataTable.querySelectorAll("tbody tr").forEach(function(t){t.querySelectorAll("td").forEach(function(t,i){!e[i].innerText.length||e[i].innerText.match(/^\s$/)||e[i].innerText.match(/\xA0$/g)||t.setAttribute("data-heading",e[i].innerText)})})}},{key:"toggleLocked",value:function(e){if(this.isTableLockable()){var t=e.target.parentElement,i=t.parentElement,a=!!this.lockTable&&this.lockTable.table.contains(t);if(this.clearLockTables(),a){var l=function(e){for(var i=[],a=0,l=e.length;a<l;a++)t.innerText!==e[a].el.innerText&&i.push(e[a]);return i};this.manuallyLocked=l(this.manuallyLocked),this.autoLocked=l(this.autoLocked)}else this.manuallyLocked.push({index:Array.prototype.indexOf.call(i.children,t),el:t});this.layoutTable()}}},{key:"getAutoLocked",value:function(e){for(var t=[],i=this.dataTable.querySelectorAll("th"),a=0,l=i.length;a<l;a++)i[a].hasAttribute(e)&&t.push({index:a,el:i[a]});return t}},{key:"placeLocks",value:function(){this.isTableLockable()&&this.dataTable.querySelectorAll("th").forEach(function(e){this.placeLock(e)}.bind(this))}},{key:"placeLock",value:function(e){var t=document.createElement("A");t.setAttribute("data-lock-column",""),t.setAttribute("href","javascript:void(0)"),e.appendChild(t)}},{key:"clearLockTables",value:function(){this.isTableLockable()&&(this.restoreOrignialOrder(),this.dataTable.querySelectorAll("th").forEach(function(e){var t=e.querySelector("[data-lock-column]");t&&t.remove()}),this.lockTable&&(this.containerEl.removeChild(this.lockTable.container),this.lockTable=null),this.lockTableRear&&(this.containerEl.removeChild(this.lockTableRear.container),this.lockTableRear=null))}},{key:"restoreOrignialOrder",value:function(){this.dataTable.querySelectorAll("th");for(var e=0,t=this.originalHeaders.length;e<t;e++)this.dataTable.querySelectorAll("th").forEach(function(t,i){this.originalHeaders[e]===t.innerText&&this.moveColumn(this.dataTable,i,e)}.bind(this))}},{key:"moveColumn",value:function(e,t,i,a){if(!a){var l=e.querySelectorAll("tbody tr"),o=e.querySelector("thead tr");o.insertBefore(o.children[t],o.childNodes[i]);for(var n=0,r=l.length;n<r;n++)l[n].insertBefore(l[n].children[t],l[n].childNodes[i])}}},{key:"calculateLockTableSize",value:function(e,t){if(this.isTableLockable()){for(var i=0,a=this.lockTable.table.querySelectorAll("th"),l=this.lockTable.table.querySelectorAll("tbody tr"),o=0,n=t.length;o<n;o++){i+=a[t[o].index].offsetWidth,a[t[o].index].style.visibility="visible",a[t[o].index].style.pointerEvents="auto";for(var r=0,s=l.length;r<s;r++)l[r].children[t[o].index].style.visibility="visible",l[r].children[t[o].index].style.pointerEvents="auto";this.moveColumn(this.lockTable.table,t[o].index,o,this.lockTable.isRear),this.moveColumn(this.dataTable,t[o].index,o,this.lockTable.isRear)}this.lockTable.container.style.width=i+"px"}}},{key:"calculateMaxLocked",value:function(){if(!1!==this.settings.maxLocked&&void 0!=this.lockTable&&this.isTableLockable()){var e=this.containerEl.offsetWidth;this.lockTable.container.offsetWidth>e/2?this.dataTable.classList.add("max-locked"):this.dataTable.classList.remove("max-locked")}}},{key:"toggleColumnVisibility",value:function(e,t,i){if(this.lockTable)for(var a=0,l=t.length;a<l;a++)this.lockTable.table.querySelectorAll("th")[a].style.visibility="visible"}},{key:"createLockTable",value:function(e){if(this.isTableLockable()){var t={table:this.dataTable.cloneNode(!0),container:document.createElement("div"),isRear:e};t.table.classList.add("lock-table"),t.table.classList.remove("max-locked"),e?(t.container.classList.add("rear"),t.table.setAttribute("id","lock-table-rear")):t.table.setAttribute("id","lock-table"),t.container.classList.add("lock-table-container");var i=document.createElement("div");return i.classList.add("lock-table-inner"),i.appendChild(t.table),t.container.appendChild(i),t.container.setAttribute("aria-hidden",""),this.containerEl.appendChild(t.container),t}}}]),e}();document.querySelectorAll("[data-super-table]").forEach(function(e){new l(e)}),t.default=l},function(e,t,i){"use strict";[Element.prototype,CharacterData.prototype,DocumentType.prototype].forEach(function(e){e.hasOwnProperty("remove")||Object.defineProperty(e,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){null!==this.parentNode&&this.parentNode.removeChild(this)}})})},function(e,t,i){"use strict";window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=function(e,t){t=t||window;for(var i=0;i<this.length;i++)e.call(t,this[i],i,this)})},function(e,t,i){"use strict";"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e,t){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(e),a=1;a<arguments.length;a++){var l=arguments[a];if(null!=l)for(var o in l)Object.prototype.hasOwnProperty.call(l,o)&&(i[o]=l[o])}return i},writable:!0,configurable:!0})},function(e,t){}]);
//# sourceMappingURL=atd-super-table.min.js.map