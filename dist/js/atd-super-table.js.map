{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/js/AtdSuperTable.js","webpack:///./src/js/polyfills/node.remove.js","webpack:///./src/js/polyfills/nodeList.forEach.js","webpack:///./src/js/polyfills/object.assign.js","webpack:///./src/js/Column.js","webpack:///./src/js/LockTable.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","default","object","property","prototype","hasOwnProperty","p","s","e","a","length","configurable","writable","ATDSuperTable","el","options","this","containerEl","responsiveEl","querySelectorAll","dataTable","columns","lockTable","lockTableRear","lockedColumns","lastScrollTime","Date","now","settings","assign","stackedBreakpoint","maxLocked","window","setTimeout","loadColumns","isTableLockable","getAutoLocked","lockedRear","layoutTable","addEventListener","_this","forEach","head","index","column","Column","rows","row","push","setRows","id","foundColumn","hasAttribute","time","console","log","stopPropagation","target","fixedHeader","style","transform","scrollTop","table","remove","removeEventListener","updateTableScrollPosition","document","createElement","headerRow","appendChild","querySelector","className","classList","add","node","cell","innerHTML","width","offsetWidth","maxHeight","parseInt","getAttribute","isNaN","destroy","isTableHeightSet","createFixedHead","setTableMaxHeight","innerWidth","setStackedHeadings","initialLocked","getColumnByID","getColumnCopy","LockTable","scrollBarOffset","clientWidth","columnHeads","innerText","match","setAttribute","autoLockAttr","lockedList","superTable","Element","CharacterData","DocumentType","item","parentNode","removeChild","NodeList","callback","thisArg","varArgs","TypeError","to","arguments","nextSource","nextKey","headHeight","offsetHeight","rowsHeights","clonedRows","cloneNode","superTableEl","isRear","columnData","createLockTable","thead","tbody","inner","containerWidth","tableBody","rowCount","_loop","height","adjWidth","containsColumn","columncolumnHead","columnHead","indexOf","splice"],"mappings":"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","file":"atd-super-table.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","import './polyfills/node.remove';\r\nimport './polyfills/nodeList.forEach';\r\nimport './polyfills/object.assign';\r\n\r\nimport Column from './Column';\r\nimport LockTable from './LockTable';\r\n\r\nclass ATDSuperTable {    \r\n    constructor(el, options) {\r\n        this.containerEl = el;\r\n        this.responsiveEl = this.containerEl.querySelectorAll('.responsive')[0];\r\n        this.dataTable = this.containerEl.querySelectorAll('table')[0];\r\n        this.columns = [];\r\n        this.lockTable = null;\r\n        this.lockTableRear = null;\r\n        this.lockedColumns = [];\r\n        this.lastScrollTime = Date.now();\r\n        this.settings = Object.assign({\r\n            'stackedBreakpoint': 991,\r\n            'maxLocked': true\r\n        }, options);\r\n\r\n        window.setTimeout(function() {\r\n            this.loadColumns();\r\n\r\n            if(this.isTableLockable()) {\r\n                this.lockedColumns = this.getAutoLocked('data-auto-lock');\r\n                this.lockedRear = this.getAutoLocked('data-auto-lock-rear');\r\n            }\r\n\r\n            this.layoutTable();\r\n        }.bind(this), 100);\r\n\r\n        window.addEventListener('resize', this.layoutTable.bind(this));\r\n    }\r\n\r\n    loadColumns() {\r\n        let dataHeads = this.dataTable.querySelectorAll('th');\r\n        let columns = [];\r\n        dataHeads.forEach((head, index) => {\r\n            let column = new Column(columns.length, head);\r\n            let rows = [];\r\n            let dataRows = this.dataTable.querySelectorAll('tbody tr');\r\n            dataRows.forEach((row) => {\r\n                rows.push(row.querySelectorAll('td')[index]);\r\n            });\r\n            column.setRows(rows);\r\n            columns.push(column);\r\n        });\r\n        this.columns = columns;\r\n    }\r\n\r\n    getColumnByID(id) {\r\n        let foundColumn = null;\r\n        this.columns.forEach((column) => {\r\n            if(column.id === id) {\r\n                foundColumn = column;\r\n            }\r\n        });\r\n        return foundColumn;\r\n    }\r\n\r\n    isTableLockable() {\r\n        return this.containerEl.hasAttribute('data-lockable');\r\n    }\r\n\r\n    isTableHeightSet() {\r\n        return this.containerEl.hasAttribute('data-height');\r\n    }\r\n\r\n    updateTableScrollPosition(e) {\r\n            let time = Date.now();\r\n\r\n            if((time - this.lastScrollTime) < 15 ) {\r\n                console.log('discarded');\r\n                e.stopPropagation();\r\n                return false;\r\n            }\r\n\r\n            console.log('processed');\r\n\r\n            if(e.target === this.responsiveEl) {\r\n                this.fixedHeader.style.transform = `translate3D(0,${e.target.scrollTop}px, 0)`;\r\n            }\r\n\r\n            if(e.target !== this.responsiveEl) {\r\n                this.responsiveEl.scrollTop = e.target.scrollTop;\r\n            }\r\n\r\n            if(this.lockTable) {\r\n                this.lockTable.table.scrollTop = e.target.scrollTop;\r\n                \r\n            }\r\n    \r\n            if(this.lockTableRear) {\r\n                this.lockTableRear.table.scrollTop = e.target.scrollTop;\r\n            }\r\n\r\n            this.lastScrollTime = time;\r\n    }\r\n\r\n    createFixedHead() {\r\n        if(this.fixedHeader) {\r\n            this.fixedHeader.remove();\r\n            this.fixedHeader = null;\r\n        }\r\n\r\n        this.responsiveEl.removeEventListener('scroll', this.updateTableScrollPosition);\r\n        this.fixedHeader = document.createElement('TABLE');\r\n        let headerRow = document.createElement('TR');\r\n        this.fixedHeader.appendChild(document.createElement('THEAD'));\r\n        this.fixedHeader.querySelector('thead').appendChild(headerRow);\r\n        this.fixedHeader.className = this.dataTable.className;\r\n        this.fixedHeader.classList.add('fixed-header',);\r\n        this.responsiveEl.appendChild(this.fixedHeader);\r\n        this.dataTable.querySelectorAll('th').forEach(function(node) {\r\n            let cell = document.createElement('TH');\r\n            cell.innerHTML = node.innerHTML;\r\n            cell.style.width = `${node.offsetWidth}px`;\r\n            headerRow.appendChild(cell);\r\n        }.bind(this));\r\n\r\n        this.responsiveEl.addEventListener('scroll', this.updateTableScrollPosition.bind(this));\r\n    }\r\n\r\n    setTableMaxHeight() {\r\n        let maxHeight = parseInt(this.containerEl.getAttribute('data-height'), 10);\r\n        \r\n        if(isNaN && isNaN(maxHeight)) {\r\n            return;\r\n        }\r\n        this.responsiveEl.style.maxHeight = `${maxHeight}px`;\r\n        this.responsiveEl.classList.add('set-height');\r\n    }\r\n\r\n    layoutTable() {        \r\n        this.containerEl.classList.remove('stacked', 'compact');\r\n\r\n        if(this.lockTable) {\r\n            this.lockTable.destroy();\r\n            this.lockTable = null;\r\n        }\r\n\r\n        if(this.lockTableRear) {\r\n            this.lockTableRear.destroy();\r\n            this.lockTableRear = null;\r\n        }\r\n\r\n        if(this.isTableHeightSet()) {\r\n            this.createFixedHead();\r\n            this.setTableMaxHeight();\r\n        }\r\n\r\n        if(window.innerWidth <= this.settings.stackedBreakpoint) {\r\n                this.containerEl.classList.add('stacked');\r\n                this.setStackedHeadings();\r\n                return;\r\n        }\r\n        else if(this.dataTable.offsetWidth <= this.containerEl.offsetWidth) {\r\n            return;\r\n        } \r\n        else {\r\n                this.containerEl.classList.add('compact');\r\n        }\r\n        \r\n        if(this.isTableLockable()) {\r\n            // this.placeLocks();\r\n\r\n            // this.allLocked.sort(function(a, b) {\r\n            //     if(a.index < b.index) {\r\n            //         return -1;\r\n            //     }\r\n            //     return 1;\r\n            // });\r\n\r\n            let initialLocked = [];\r\n            this.lockedColumns.forEach(function(id) {\r\n                let column = this.getColumnByID(id);\r\n\r\n                if(column) {\r\n                    initialLocked.push(column.getColumnCopy());\r\n                }\r\n            }.bind(this));\r\n            \r\n            this.lockTable = new LockTable(this.containerEl, this.dataTable, false, initialLocked);\r\n            this.lockTable.table.addEventListener('scroll', this.updateTableScrollPosition.bind(this));\r\n            \r\n            initialLocked = [];\r\n            this.lockedRear.forEach(function(id) {\r\n                let column = this.getColumnByID(id);\r\n\r\n                if(column) {\r\n                    initialLocked.push(column.getColumnCopy());\r\n                }\r\n            }.bind(this));\r\n        \r\n            this.lockTableRear = new LockTable(this.containerEl, this.dataTable, true, initialLocked);\r\n            this.lockTableRear.table.addEventListener('scroll', this.updateTableScrollPosition.bind(this));\r\n\r\n            let scrollBarOffset = this.responsiveEl.offsetWidth - this.responsiveEl.clientWidth;\r\n            console.log(scrollBarOffset);\r\n            this.lockTableRear.containerEl.style.transform =  `translate3D(-${scrollBarOffset}px, 0px, 0px)`;\r\n\r\n        //     this.calculateMaxLocked();\r\n\r\n            // var lockButtons = this.containerEl.querySelectorAll('[data-lock-column]');\r\n            // lockButtons.forEach(function(btn) {\r\n            //     btn.addEventListener('click', this.toggleLocked.bind(this));\r\n            // }.bind(this));\r\n        }\r\n    }\r\n\r\n    setStackedHeadings() {\r\n        var columnHeads = this.dataTable.querySelectorAll('th');\r\n        var rows = this.dataTable.querySelectorAll('tbody tr');\r\n        rows.forEach(function(row) {\r\n            var cells = row.querySelectorAll('td');\r\n            cells.forEach(function(cell, i) {\r\n                    if(columnHeads[i].innerText.length && !columnHeads[i].innerText.match(/^\\s$/) && !columnHeads[i].innerText.match(/\\xA0$/g)) {\r\n                            cell.setAttribute('data-heading', columnHeads[i].innerText);\r\n                    }\r\n            });\r\n        });\r\n    }\r\n\r\n    // toggleLocked(e) {\r\n    //     if(!this.isTableLockable()) {\r\n    //         return;\r\n    //     }\r\n\r\n    //     var columnHead = e.target.parentElement;\r\n    //     var headerRow = columnHead.parentElement;\r\n    //     var isLocked = this.lockTable.containsColumn(columnHead);\r\n\r\n       \r\n    //     this.clearLockTables();\r\n        \r\n    //     if(isLocked) {\r\n    //     //     this.manuallyLocked = removeFromLocked(this.manuallyLocked);\r\n    //     //     this.autoLocked = removeFromLocked(this.autoLocked);\r\n            \r\n    //     //     function removeFromLocked(lockedList) {\r\n    //     //         var locked = [];\r\n    //     //         for(var i = 0, length = lockedList.length; i < length; i++) { \r\n    //     //             if(columnHead.innerText !== lockedList[i].el.innerText) {\r\n    //     //                 locked.push(lockedList[i]);\r\n    //     //             }\r\n    //     //         }\r\n    //     //         return locked;  \r\n    //     //     }\r\n    //     }\r\n    //     else {      \r\n    //             this.manuallyLocked.push({\r\n    //                 index: Array.prototype.indexOf.call(headerRow.children, columnHead),\r\n    //                 el: columnHead\r\n    //             });\r\n    //     }\r\n        \r\n    //     this.layoutTable();\r\n    // }\r\n\r\n    getAutoLocked(autoLockAttr) {\r\n        var lockedList = [];\r\n        this.columns.forEach((column) => {\r\n            if(column.head.hasAttribute(autoLockAttr)) {\r\n                lockedList.push(column.id);\r\n            }\r\n        });\r\n        return lockedList;\r\n    }\r\n\r\n    // placeLocks() {\r\n    //     var columnHeads = this.dataTable.querySelectorAll('th');\r\n    //     columnHeads.forEach(function(th) {\r\n    //         this.placeLock(th);\r\n    //     }.bind(this));\r\n    // }\r\n    \r\n    // placeLock(th) {\r\n    //     var lock = document.createElement('A');\r\n    //     lock.setAttribute('data-lock-column', '');\r\n    //     th.appendChild(lock);\r\n    // }\r\n\r\n    // restoreTable() {\r\n    //     if(!this.isTableLockable()) {\r\n    //         return;\r\n    //     }\r\n\r\n    //     this.restoreOrignialOrder();\r\n        \r\n    //     this.dataTable.querySelectorAll('th').forEach(function(node) {\r\n    //         var anchor = node.querySelector('[data-lock-column]');\r\n    //         if(anchor) {\r\n    //             anchor.remove();\r\n    //         }\r\n            \r\n    //     });\r\n        \r\n    //     if(this.lockTable) {   \r\n    //         this.lockTable = this.lockTable.destroy(); \r\n    //     }\r\n        \r\n    //     if(this.lockTableRear) {\r\n    //         this.lockTableRear = this.lockTableRear.destroy(); \r\n    //     }\r\n\r\n    //     this.containerEl.classList.remove('compact', 'stacked');\r\n    // }\r\n    \r\n    // restoreOrignialOrder() {\r\n    //     var currentOrder = this.dataTable.querySelectorAll('th');\r\n    //     for(var i = 0, length = this.originalHeaders.length; i < length; i++) {\r\n    //         currentOrder = this.dataTable.querySelectorAll('th');\r\n    //         // currentOrder.forEach(function(node, index) {\r\n    //         //     if(this.originalHeaders[i] === node.innerText) {\r\n    //         //             this.lockTable.moveColumn(this.dataTable, index, i);\r\n    //         //     }\r\n    //         // }.bind(this)); \r\n    //     }\r\n    // }\r\n\r\n    // calculateMaxLocked() {\r\n    //     if(this.settings.maxLocked === false || this.lockTable == undefined || !this.isTableLockable()) {\r\n    //             return;\r\n    //     }\r\n        \r\n    //     var containerWidth = this.containerEl.offsetWidth;\r\n    //     var lockContainerWidth = this.lockTable.container.offsetWidth;\r\n\r\n    //     if(lockContainerWidth > containerWidth / 2) {\r\n    //             this.dataTable.classList.add('max-locked');\r\n    //     }\r\n    //     else {\r\n    //         this.dataTable.classList.remove('max-locked');\r\n    //     }\r\n    // }\r\n}\r\n\r\nlet superTables = document.querySelectorAll('[data-super-table]');\r\nsuperTables.forEach(function(superTable) {\r\n    let table = new ATDSuperTable(superTable);\r\n});\r\n\r\nexport { ATDSuperTable as default}","// poly fill for Node.remove\r\n// from:https://github.com/jserz/js_piece/blob/master/DOM/ChildNode/remove()/remove().md\r\n(function (arr) {\r\n    arr.forEach(function (item) {\r\n      if (item.hasOwnProperty('remove')) {\r\n        return;\r\n      }\r\n      Object.defineProperty(item, 'remove', {\r\n        configurable: true,\r\n        enumerable: true,\r\n        writable: true,\r\n        value: function remove() {\r\n          if (this.parentNode !== null)\r\n            this.parentNode.removeChild(this);\r\n        }\r\n      });\r\n    });\r\n})([Element.prototype, CharacterData.prototype, DocumentType.prototype]);","// polyfill for NodeList.forEach\r\nif (window.NodeList && !NodeList.prototype.forEach) {\r\n    NodeList.prototype.forEach = function (callback, thisArg) {\r\n        thisArg = thisArg || window;\r\n        for (var i = 0; i < this.length; i++) {\r\n            callback.call(thisArg, this[i], i, this);\r\n        }\r\n    };\r\n}","// polyfill for Object.assign\r\nif (typeof Object.assign != 'function') {\r\n// Must be writable: true, enumerable: false, configurable: true\r\nObject.defineProperty(Object, \"assign\", {\r\n    value: function assign(target, varArgs) { // .length of function is 2\r\n    'use strict';\r\n    if (target == null) { // TypeError if undefined or null\r\n        throw new TypeError('Cannot convert undefined or null to object');\r\n    }\r\n\r\n    var to = Object(target);\r\n\r\n    for (var index = 1; index < arguments.length; index++) {\r\n        var nextSource = arguments[index];\r\n\r\n        if (nextSource != null) { // Skip over if undefined or null\r\n        for (var nextKey in nextSource) {\r\n            // Avoid bugs when hasOwnProperty is shadowed\r\n            if (Object.prototype.hasOwnProperty.call(nextSource, nextKey)) {\r\n            to[nextKey] = nextSource[nextKey];\r\n            }\r\n        }\r\n        }\r\n    }\r\n    return to;\r\n    },\r\n    writable: true,\r\n    configurable: true\r\n});\r\n}","class Column {\r\n    constructor(id, head = null, rows = []) {\r\n        this.id = id;\r\n        this.head = head;\r\n        this.rows = rows;\r\n        this.width = this.head ? this.head.offsetWidth : 0;\r\n        this.headHeight = this.head ? this.head.offsetHeight : 0;\r\n        this.rowsHeights = [];\r\n    }\r\n\r\n    setHead(head) {\r\n        if(head) {\r\n            this.head = head;\r\n        }\r\n    }\r\n\r\n    getHead() {\r\n        return this.head || null;\r\n    }\r\n\r\n    setRows(rows) {\r\n        if(rows) {\r\n            this.rows = rows;\r\n\r\n            this.rows.forEach(function(row) {\r\n                this.rowsHeights.push(row.offsetHeight);\r\n            }.bind(this));\r\n        }\r\n    }\r\n\r\n    getRows() {\r\n        return this.rows.length ? this.rows : null;\r\n    }\r\n\r\n    getColumnCopy() {\r\n        let clonedRows = [];\r\n        this.rows.forEach((row) => {\r\n            clonedRows.push(row.cloneNode(true));\r\n        });\r\n\r\n        return {\r\n            id: this.id,\r\n            head: this.head.cloneNode(true),\r\n            rows: clonedRows,\r\n            width: this.width,\r\n            headHeight: this.headHeight,\r\n            rowsHeights: this.rowsHeights\r\n        }\r\n    }\r\n}\r\n\r\nexport { Column as default} ","class LockTable {\r\n    constructor(superTableEl, dataTable, isRear = false, columnData = []) {\r\n        this.superTableEl = superTableEl;\r\n        this.dataTable = dataTable;\r\n        this.isRear = isRear;\r\n        this.containerEl =  document.createElement('div');\r\n        this.columnData = columnData;\r\n\r\n        this.createLockTable();\r\n    }\r\n\r\n    destroy() {\r\n        this.containerEl.remove();\r\n        return null;\r\n    }\r\n\r\n    containsColumn (column) {\r\n        if(this.columnData) {\r\n            for(let i = 0, length = this.columnData.length; i < length; i++) {\r\n                if(this.columnData[i].head === column) {\r\n                    return column;\r\n                }\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    createLockTable() {\r\n        this.destroy();\r\n\r\n        if(!this.columnData.length) {\r\n            return;\r\n        }\r\n\r\n        let thead = document.createElement('thead');\r\n        thead.appendChild(document.createElement('tr'));\r\n        let tbody = document.createElement('tbody');\r\n\r\n        this.table = document.createElement('table');\r\n        this.table.appendChild(thead);\r\n        this.table.appendChild(tbody);\r\n        this.table.className = this.dataTable.className;\r\n        this.table.classList.add('lock-table');\r\n        this.table.classList.remove('max-locked');\r\n        if(this.isRear) {\r\n            this.containerEl.classList.add('rear');\r\n            this.table.setAttribute('id', 'lock-table-rear');\r\n        }\r\n        else {\r\n            this.table.setAttribute('id', 'lock-table');\r\n        }\r\n        this.containerEl.classList.add('lock-table-container');\r\n        \r\n        let inner = document.createElement('div');\r\n        inner.classList.add('lock-table-inner');\r\n\r\n        inner.appendChild(this.table);\r\n        this.containerEl.appendChild(inner);\r\n        this.containerEl.setAttribute('aria-hidden', '');\r\n        this.superTableEl.appendChild(this.containerEl);\r\n\r\n        let containerWidth = 0;\r\n\r\n        if(this.columnData.length) {\r\n            this.columnData.forEach(function(column, index) {\r\n                this.table.querySelector('tbody').style.transform = `translateY(${column.headHeight}px)`;\r\n                column.head.style.width = `${column.width}px`;\r\n                containerWidth += column.width;\r\n                this.table.querySelector('thead tr').appendChild(column.head);\r\n            }.bind(this));\r\n\r\n            let tableBody = this.table.querySelector('tbody');\r\n            let rowCount = this.columnData[0].rows.length;\r\n            for(let i = 0; i < rowCount; i++) {\r\n                let row = document.createElement('tr');\r\n\r\n                this.columnData.forEach((column) => {\r\n                    column.rows[i].style.width = `${column.width}px`;\r\n                    column.rows[i].style.height = `${column.rowsHeights[i]}px`;\r\n                    row.appendChild(column.rows[i]);\r\n                });\r\n\r\n                tableBody.appendChild(row);\r\n            }\r\n        }\r\n\r\n        let adjWidth = (this.table.offsetWidth - this.table.clientWidth)/2;\r\n        this.table.style.width = `${this.table.offsetWidth + adjWidth}px`;\r\n\r\n        this.containerEl.style.width = `${containerWidth}px`;\r\n    }\r\n\r\n    addColumn(column) {\r\n        if(this.containsColumn(column.head)) {\r\n            return;\r\n        }\r\n\r\n        this.columnData.push(column);\r\n        this.createLockTable();\r\n    }\r\n\r\n    removeColumn(columncolumnHead) {\r\n        let column = this.containsColumn(columnHead);\r\n        let index = this.columnData.indexOf(column);\r\n\r\n        if(index >= 0) {\r\n            this.columnData.splice(index, 1);\r\n            this.createLockTable();\r\n        }\r\n    }\r\n}\r\n\r\nexport { LockTable as default}"],"sourceRoot":""}