!function(t){var e={};function i(a){if(e[a])return e[a].exports;var l=e[a]={i:a,l:!1,exports:{}};return t[a].call(l.exports,l,l.exports,i),l.l=!0,l.exports}i.m=t,i.c=e,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var l in t)i.d(a,l,function(e){return t[e]}.bind(null,l));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)}([function(t,e,i){t.exports=i(1)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,i,a){return i&&t(e.prototype,i),a&&t(e,a),e}}();i(2),i(3),i(4);var l=o(i(5)),n=o(i(6));function o(t){return t&&t.__esModule?t:{default:t}}i(7);var s=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.containerEl=e,this.responsiveEl=this.containerEl.querySelectorAll(".responsive")[0],this.dataTable=this.containerEl.querySelectorAll("table")[0],this.columns=[],this.lockTable=null,this.lockTableRear=null,this.lockedColumns=[],this.lastScrollTime=Date.now(),this.lockButtons=null,this.settings=Object.assign({stackedBreakpoint:991,maxLocked:!0},i),window.setTimeout(function(){this.loadColumns(),this.createLockButtons(),this.isTableLockable()&&(this.lockedColumns=this.getAutoLocked("data-auto-lock"),this.lockedRear=this.getAutoLocked("data-auto-lock-rear")),this.layoutTable()}.bind(this),250),window.addEventListener("resize",this.layoutTable.bind(this)),this.containerEl.addEventListener("click",this.toggleLocked.bind(this))}return a(t,[{key:"loadColumns",value:function(){var t=this,e=[];this.dataTable.querySelectorAll("th").forEach(function(i,a){var n=new l.default(e.length,i),o=[];t.dataTable.querySelectorAll("tbody tr").forEach(function(t){o.push(t.querySelectorAll("td")[a])}),n.setRows(o),e.push(n)}),this.columns=e}},{key:"getColumnByID",value:function(t){var e=null;return this.columns.forEach(function(i){i.id===t&&(e=i)}),e}},{key:"isTableLockable",value:function(){return this.containerEl.hasAttribute("data-lockable")}},{key:"isTableHeightSet",value:function(){return this.containerEl.hasAttribute("data-height")}},{key:"updateTableScrollPosition",value:function(t){this.fixedHeader.style.transform="translate3D(-"+this.responsiveEl.scrollLeft+"px, 0, 0)",Date.now()-this.lastScrollTime<20||(this.lastScrollTime=Date.now(),this.responsiveEl.scrollTop!==t.target.scrollTop&&(this.responsiveEl.scrollTop=t.target.scrollTop),this.lockTable.table&&this.lockTable.table.scrollTop!==t.target.scrollTop&&(this.lockTable.table.scrollTop=t.target.scrollTop),this.lockTableRear.table&&this.lockTableRear.table.scrollTop!==t.target.scrollTop&&(this.lockTableRear.table.scrollTop=t.target.scrollTop))}},{key:"createFixedHead",value:function(){this.fixedHeader&&(this.fixedHeader.remove(),this.fixedHeader=null),this.responsiveEl.removeEventListener("scroll",this.updateTableScrollPosition),this.fixedHeader=document.createElement("TABLE");var t=document.createElement("TR");this.fixedHeader.appendChild(document.createElement("THEAD")),this.fixedHeader.querySelector("thead").appendChild(t),this.fixedHeader.className=this.dataTable.className,this.fixedHeader.classList.add("fixed-header"),this.containerEl.appendChild(this.fixedHeader),this.dataTable.querySelectorAll("th").forEach(function(e){var i=document.createElement("TH");i.innerHTML=e.innerHTML,i.style.width=e.offsetWidth+"px",t.appendChild(i)}.bind(this)),this.responsiveEl.addEventListener("scroll",this.updateTableScrollPosition.bind(this)),this.fixedHeader.style.transform="translate3D(-"+this.responsiveEl.scrollLeft+"px, 0, 0)"}},{key:"setTableMaxHeight",value:function(){var t=parseInt(this.containerEl.getAttribute("data-height"),10);isNaN&&isNaN(t)||(this.responsiveEl.style.maxHeight=t+"px",this.responsiveEl.classList.add("set-height"))}},{key:"layoutTable",value:function(){if(this.containerEl.classList.remove("stacked","compact"),this.restoreColumnOrder(),this.isTableHeightSet()&&this.setTableMaxHeight(),this.lockTable&&(this.lockTable.destroy(),this.lockTable=null),this.lockTableRear&&(this.lockTableRear.destroy(),this.lockTableRear=null),window.innerWidth<=this.settings.stackedBreakpoint)return this.containerEl.classList.add("stacked"),void this.setStackedHeadings();if(!(this.dataTable.offsetWidth<=this.containerEl.offsetWidth)){if(this.containerEl.classList.add("compact"),this.isTableLockable()){var t=[];if(this.lockedColumns.forEach(function(e){var i=this.getColumnByID(e);i&&(t.push(i.getColumnCopy()),this.moveColumn(e))}.bind(this)),this.lockTable=new n.default(this.containerEl,this.dataTable,!1,t),this.lockTable.table&&this.lockTable.table.addEventListener("scroll",this.updateTableScrollPosition.bind(this)),t=[],this.lockedRear.forEach(function(e){var i=this.getColumnByID(e);i&&t.push(i.getColumnCopy())}.bind(this)),this.lockTableRear=new n.default(this.containerEl,this.dataTable,!0,t),this.lockTableRear.table){this.lockTableRear.table.addEventListener("scroll",this.updateTableScrollPosition.bind(this));var e=this.responsiveEl.offsetWidth-this.responsiveEl.clientWidth;this.lockTableRear.containerEl.style.transform="translate3D(-"+e+"px, 0px, 0px)"}this.calculateMaxLocked()}this.isTableHeightSet()&&this.createFixedHead()}}},{key:"setStackedHeadings",value:function(){var t=this.dataTable.querySelectorAll("th");this.dataTable.querySelectorAll("tbody tr").forEach(function(e){e.querySelectorAll("td").forEach(function(e,i){!t[i].innerText.length||t[i].innerText.match(/^\s$/)||t[i].innerText.match(/\xA0$/g)||e.setAttribute("data-heading",t[i].innerText)})})}},{key:"toggleLocked",value:function(t){if(this.isTableLockable()&&t.target.matches("[data-lock-column]")){var e=parseInt(t.target.getAttribute("data-lock-column"),10),i=this.lockedColumns.indexOf(e);i>=0?this.lockedColumns.splice(i,1):this.lockedColumns.push(e),this.layoutTable()}}},{key:"moveColumn",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this.getColumnByID(t),a=this.dataTable.querySelector("thead tr"),l=this.dataTable.querySelectorAll("tbody tr");e?a.insertBefore(i.head,a.firstChild):a.appendChild(i.head,null),i.rows.forEach(function(t,i){e?l[i].insertBefore(t,l[i].firstChild):l[i].appendChild(t,null)}.bind(this))}},{key:"restoreColumnOrder",value:function(){this.columns.forEach(function(t){this.moveColumn(t.id,!1)}.bind(this))}},{key:"getAutoLocked",value:function(t){var e=[];return this.columns.forEach(function(i){i.head.hasAttribute(t)&&e.push(i.id)}),e}},{key:"createLockButtons",value:function(){this.isTableLockable()&&this.columns.forEach(function(t){var e=document.createElement("a");e.setAttribute("data-lock-column",t.id),t.head.appendChild(e)}.bind(this))}},{key:"calculateMaxLocked",value:function(){if(!1!==this.settings.maxLocked&&void 0!=this.lockTable&&this.isTableLockable()){var t=this.containerEl.offsetWidth;this.lockTable.containerEl.offsetWidth>t/2?this.dataTable.classList.add("max-locked"):this.dataTable.classList.remove("max-locked")}}}]),t}();document.querySelectorAll("[data-super-table]").forEach(function(t){new s(t)}),e.default=s},function(t,e,i){"use strict";[Element.prototype,CharacterData.prototype,DocumentType.prototype].forEach(function(t){t.hasOwnProperty("remove")||Object.defineProperty(t,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){null!==this.parentNode&&this.parentNode.removeChild(this)}})})},function(t,e,i){"use strict";window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=function(t,e){e=e||window;for(var i=0;i<this.length;i++)t.call(e,this[i],i,this)})},function(t,e,i){"use strict";"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(t,e){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(t),a=1;a<arguments.length;a++){var l=arguments[a];if(null!=l)for(var n in l)Object.prototype.hasOwnProperty.call(l,n)&&(i[n]=l[n])}return i},writable:!0,configurable:!0})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,i,a){return i&&t(e.prototype,i),a&&t(e,a),e}}(),l=function(){function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.id=e,this.head=i,this.rows=a,this.width=this.head?this.head.offsetWidth:0,this.headHeight=this.head?this.head.offsetHeight:0,this.rowsHeights=[]}return a(t,[{key:"setHead",value:function(t){t&&(this.head=t)}},{key:"getHead",value:function(){return this.head||null}},{key:"setRows",value:function(t){t&&(this.rows=t,this.rows.forEach(function(t){this.rowsHeights.push(t.offsetHeight)}.bind(this)))}},{key:"getRows",value:function(){return this.rows.length?this.rows:null}},{key:"getColumnCopy",value:function(){var t=[];return this.rows.forEach(function(e){t.push(e.cloneNode(!0))}),{id:this.id,head:this.head.cloneNode(!0),rows:t,width:this.width,headHeight:this.headHeight,rowsHeights:this.rowsHeights}}}]),t}();e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,i,a){return i&&t(e.prototype,i),a&&t(e,a),e}}(),l=function(){function t(e,i){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.superTableEl=e,this.dataTable=i,this.isRear=a,this.containerEl=document.createElement("div"),this.columnData=l,this.createLockTable()}return a(t,[{key:"destroy",value:function(){return this.containerEl.remove(),null}},{key:"containsColumn",value:function(t){if(this.columnData)for(var e=0,i=this.columnData.length;e<i;e++)if(this.columnData[e].id===t)return this.columnData[e];return!1}},{key:"createLockTable",value:function(){var t=this;if(this.destroy(),this.columnData.length){var e=document.createElement("thead");e.appendChild(document.createElement("tr"));var i=document.createElement("tbody");this.table=document.createElement("table"),this.table.appendChild(e),this.table.appendChild(i),this.table.className=this.dataTable.className,this.table.classList.add("lock-table"),this.table.classList.remove("max-locked"),this.isRear?(this.containerEl.classList.add("rear"),this.table.setAttribute("id","lock-table-rear")):this.table.setAttribute("id","lock-table"),this.containerEl.classList.add("lock-table-container");var a=document.createElement("div");a.classList.add("lock-table-inner"),a.appendChild(this.table),this.containerEl.appendChild(a),this.containerEl.setAttribute("aria-hidden",""),this.superTableEl.appendChild(this.containerEl);var l=0;if(this.columnData.length){this.columnData.forEach(function(t,e){this.table.querySelector("tbody").style.transform="translateY("+t.headHeight+"px)",t.head.style.width=t.width+"px",l+=t.width,this.table.querySelector("thead tr").appendChild(t.head)}.bind(this));for(var n=this.table.querySelector("tbody"),o=this.columnData[0].rows.length,s=function(e){var i=document.createElement("tr");t.columnData.forEach(function(t){t.rows[e].style.width=t.width+"px",t.rows[e].style.height=t.rowsHeights[e]+"px",i.appendChild(t.rows[e])}),n.appendChild(i)},r=0;r<o;r++)s(r)}var c=this.table.offsetWidth-this.table.clientWidth;this.table.style.width=this.table.offsetWidth+c+"px",this.containerEl.style.width=l+"px"}}}]),t}();e.default=l},function(t,e){}]);
//# sourceMappingURL=atd-super-table.js.map